<mat-card style='margin:8px;'>
    <mat-card-title>Institute Stats</mat-card-title>
        <mat-card-content>
            <kusunoki2-institute [institute]='institute|async'></kusunoki2-institute>
        </mat-card-content>
</mat-card>

<mat-expansion-panel expanded='true'>
    <mat-expansion-panel-header>Country Stats</mat-expansion-panel-header>
    <div  fxLayout='row' fxLayoutGap='10px' fxLayout.xs="column">
        <mat-card fxFlex>
            <kusunoki2-country-stats-table
                [columnsToDisplay]="countryColumnsToDisplay"
                [items]="country_stats"
                [initialQueryParams]="{institute_code: (institute|async)?.instituteCode}">
            </kusunoki2-country-stats-table>

        </mat-card>
        <mat-card fxFlex>
            <mat-tab-group>
                <mat-tab>
                    <ng-template mat-tab-label>
                        Accession Stats
                    </ng-template>
                    <ng-template matTabContent>
                        <kusunoki2-google-mapchart
                            [statsType]="'accessions'"
                            [chartData]="country_stats|async"
                            [id]="'pass_id'">
                        </kusunoki2-google-mapchart>
                    </ng-template>
                </mat-tab>
                <mat-tab>
                    <ng-template mat-tab-label>
                        AccessionSet Stats
                    </ng-template>
                    <ng-template matTabContent>
                        <kusunoki2-google-mapchart
                            [statsType]="'accessionsets'"
                            [chartData]="country_stats|async"
                            [id]="'acc_id'">
                        </kusunoki2-google-mapchart>
                    </ng-template>
                </mat-tab>
            </mat-tab-group>
        </mat-card>
    </div>
</mat-expansion-panel>

<mat-expansion-panel>
    <mat-expansion-panel-header>Pdci Distribution</mat-expansion-panel-header>
        <mat-card fxFlex >
            <kusunoki2-google-barchart [div_id]="'pdci_div'"
                                    [chartData]="(institute|async)?.pdcis"
                                    [config]="pdciCharConfig">
            </kusunoki2-google-barchart>
        </mat-card>
    </mat-expansion-panel>
<mat-expansion-panel expanded='true'>
    <mat-expansion-panel-header>Taxonmy stats</mat-expansion-panel-header>
    <kusunoki2-taxon-stats
        [stats]="taxon_stats|async"
        [initialQueryParams]="{institute_code: (institute|async)?.instituteCode}">
    </kusunoki2-taxon-stats>
</mat-expansion-panel>
