<kusunoki2-accession
    *ngIf="accession"
    #accessionComp
    [accession]="accession"
    [editMode]="editMode"
    [mapId]="'googlemap'">
</kusunoki2-accession>
<mat-accordion *ngIf="germplasmNumber && instituteCode && !accessionComp?.editMode">
    <mat-expansion-panel [expanded]="editMode">
        <mat-expansion-panel-header><span fxFlex></span><h3>Images</h3><span fxFlex></span></mat-expansion-panel-header>
        <div fxFlex></div>
        <kusunoki2-observation-image-gallery fxFlex
            [searchParams]="{accession_number: germplasmNumber,
                            accession_institute: instituteCode}">
        </kusunoki2-observation-image-gallery>
        <div fxFlex></div>
    </mat-expansion-panel>
    <mat-expansion-panel >
        <mat-expansion-panel-header><span fxFlex></span><h3>Observations of this accession</h3><span fxFlex></span></mat-expansion-panel-header>
        <kusunoki2-observation-table *ngIf="instituteCode && germplasmNumber"
            [searchParams]="{'accession_number': germplasmNumber,
                            'accession_institute': instituteCode}" >
        </kusunoki2-observation-table>
    </mat-expansion-panel>
    <mat-expansion-panel>
        <mat-expansion-panel-header><span fxFlex></span><h3>Studies where accession has been used</h3><span fxFlex></span></mat-expansion-panel-header>
        <kusunoki2-study-table *ngIf="instituteCode && germplasmNumber"
            [searchParams]="{'germplasm_number': germplasmNumber,
                            'institute': instituteCode}" >
        </kusunoki2-study-table>
    </mat-expansion-panel>
</mat-accordion>