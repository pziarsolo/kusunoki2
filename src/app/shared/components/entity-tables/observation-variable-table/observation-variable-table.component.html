<mat-progress-bar mode="indeterminate" *ngIf='dataSource.loadingSubject.value'></mat-progress-bar>
<div [hidden]='dataSource.totalCount !== 0' i18n>No Trait methodologies Found</div>
<div [hidden]='dataSource.totalCount === 0'>
    <table mat-table [dataSource]='dataSource' matSort class='datatable mat-elevation-z2'>
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Name</th>
            <td mat-cell *matCellDef="let observation_variable">
                <a [routerLink]="['/', appUrls.phenotypeSubDir,
                                        appUrls.phenotype.observation_variables,
                                        observation_variable.data.name]">
                        {{observation_variable.data.name}}
                </a>
            </td>
        </ng-container>

        <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Description</th>
            <td mat-cell *matCellDef="let observation_variable"> {{observation_variable.data.description}}</td>
        </ng-container>

        <ng-container matColumnDef="method">
            <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Measurement method</th>
            <td mat-cell *matCellDef="let observation_variable">{{observation_variable.data.method}}</td>
        </ng-container>

        <ng-container matColumnDef="trait">
            <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Trait</th>
            <td mat-cell *matCellDef="let observation_variable">
                <a [routerLink]="['/', appUrls.phenotypeSubDir,
                    appUrls.phenotype.traits,
                    observation_variable.data.trait]">
                    {{observation_variable.data.trait}}
                    </a>
            </td>
        </ng-container>
        <ng-container matColumnDef="scale">
            <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Scale</th>
            <td mat-cell *matCellDef="let observation_variable">
                <a [routerLink]="['/', appUrls.phenotypeSubDir,
                    appUrls.phenotype.scales,
                    observation_variable.data.scale]">
                    {{observation_variable.data.scale}}
                    </a>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
        <tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>

    </table>
    <mat-paginator  #paginator
        [length]="dataSource.totalCount"
        [pageIndex]="0"
        [pageSize]="25"
        [pageSizeOptions]="[1, 2, 3, 10, 25, 50, 100]">
    </mat-paginator>
    <!-- <div fxLayout='row' fxLayoutAlign="start center" style='margin-top:3px;'>
        <button mat-button (click)="downloadCsv()" i18n>Download in CSV</button>
        <mat-spinner style='margin-left: 3px;' diameter='30' *ngIf='csvDownloading'></mat-spinner>
        <span fxFlex></span>

    </div> -->
</div>